var detectIE = {
  el: {
    body: $('body')
  },
  vars: {
    trident: window.navigator.userAgent.indexOf('Trident/') //IE11

  },
  events: function events() {
    this.vars.trident > 0 ? this.el.body.addClass('is-ie') : '';
  },
  init: function init() {
    this.events();
  }
};
detectIE.init();
var hoverToTouch = {
  el: {
    body: $('body')
  },
  init: function init() {
    this.el.body.on('touchstart', function () {});
  }
};
hoverToTouch.init();
var isTouch = {
  el: {
    body: $('body')
  },
  events: function events() {
    !!('ontouchstart' in window || navigator.msMaxTouchPoints) ? this.el.body.addClass('is-touch') : this.el.body.addClass('is-non-touch');
  },
  init: function init() {
    this.events();
  }
};
isTouch.init();
var objectFit = {
  events: function events() {
    if ('objectFit' in document.documentElement.style === false) {
      document.addEventListener('DOMContentLoaded', function () {
        Array.prototype.forEach.call(document.querySelectorAll('img[data-object-fit]'), function (image) {
          (image.runtimeStyle || image.style).background = "url(\"".concat(image.src, "\") no-repeat 50%/").concat(image.currentStyle ? image.currentStyle['object-fit'] : image.getAttribute('data-object-fit'));
          image.src = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='".concat(image.width, "' height='").concat(image.height, "'%3E%3C/svg%3E");
        });
      });
    }
  },
  init: function init() {
    this.events();
  }
};
objectFit.init();
var url = {
  el: {
    doc: $(document),
    linkToNewTab: $('a[target="_blank"]')
  },
  events: function events(url) {
    var newTab = window.open();
    newTab.opener = null;
    newTab.location = url;
  },
  init: function init() {
    var _this = this;

    this.el.linkToNewTab.length ? this.el.linkToNewTab.attr('rel', 'noopener noreferrer') : '';
    this.el.doc.on('click', 'a[target="_blank"]', function (e) {
      _this.events(e.currentTarget);

      return false;
    });
  }
};
url.init();
var accessibility = {
  el: {
    win: $(window),
    doc: $(document),
    html: $('html'),
    nav: $('nav'),
    zoom: $('.header__zoom')
  },
  zoomFont: function zoomFont(el) {
    $(el).attr('title') === 'Aumentar Fonte' ? $(el).attr('title', 'Reduzir Fonte') : $(el).attr('title', 'Aumentar Fonte');
    this.el.html.toggleClass('accessibility__font');
  },
  events: function events() {
    var _this = this;

    this.el.html.addClass('no-transition');
    this.el.win.on('load', function () {
      return _this.el.html.removeClass('no-transition');
    });
    this.el.zoom.on('click', function (e) {
      return _this.zoomFont(e.currentTarget);
    }).on('focus', function (e) {
      return _this.el.html.hasClass('accessibility') ? _this.zoomFont(e.currentTarget) : '';
    }).on('mouseenter blur', function () {
      return _this.el.nav.find('.active').removeClass('active').parent().addClass('d-hidden');
    });
    this.el.doc.on('keydown', function (e) {
      return e.key === 'Tab' ? _this.el.html.addClass('accessibility') : '', e.shiftKey && e.key === 'Tab' && $('.header__search').hasClass('active') ? $('.header__search').removeClass('active') : '';
    }).on('click', function () {
      return _this.el.html.removeClass('accessibility');
    });
  },
  init: function init() {
    this.events();
  }
};
accessibility.init();
var accordion = {
  el: {
    win: $(window),
    doc: $(document),
    html: $('html'),
    accordion: $('.js-accordion'),
    sitemapList: $('.columns-list'),
    sitemapSubList: $('.columns-list__list')
  },
  toggleAccordion: function toggleAccordion(el) {
    $(el).toggleClass('open').next().slideToggle();
  },
  events: function events() {
    var _this = this;

    this.el.accordion.not('.open').next().hide();
    this.el.accordion.find('.icon-ss-arrow-small').append('<span class="sr-only">Expandir e colapsar</span>');
    this.el.sitemapSubList.find('li').has('ul').find('>a').append('<i class="icon-ss-arrow-small"><span class="sr-only">Expandir e colapsar</span></i>').addClass('js-accordion');
    this.el.doc.on('click', '.js-accordion', function (e) {
      return _this.toggleAccordion(e.currentTarget);
    }).on('focus', '.js-accordion', function (e) {
      return _this.el.html.hasClass('accessibility') ? _this.toggleAccordion(e.currentTarget) : '';
    }); //FIX chrome border not showing -- needs page load and settimeout

    this.el.win.on('load', function () {
      return setTimeout(function () {
        _this.el.sitemapList.find('ul:not(".columns-list__list")').hide();
      }, 1000);
    });
  },
  init: function init() {
    this.events();
  }
};
accordion.init();
var aside = {
  el: {
    win: $(window),
    html: $('html'),
    body: $('body'),
    header: $('.header'),
    footer: $('.footer'),
    aside: $('.aside'),
    hero: $('.hero'),
    scrollMenu: $('.js-scroll-menu').find('.nav-menu'),
    asideMenuMobile: $('.js-aside-menu'),
    asideTitle: $('.aside__text.text--biggest'),
    asideText: $('.aside__text'),
    asideTextWrapper: $('.aside__text-wrapper'),
    asideList: $('.aside__list'),
    asideListWrapper: $('.aside__list-wrapper'),
    content: $('.content')
  },
  vars: {
    largeAndUp: window.matchMedia('(min-width: 64em)'),
    extraLargeAndUp: window.matchMedia('(min-width: 80em)')
  },
  getMenuText: function getMenuText(el) {
    return el.find('ul ul a').hasClass('active') ? el.find('ul ul a.active').text() : el.find('ul a').hasClass('active') ? el.find('ul a.active').text() : el.find('>li>a').hasClass('active') ? el.find('>li>a.active').text() : '';
  },
  menuHasChildren: function menuHasChildren(el) {
    var _this = this;

    this.el.win.on('load resize', function () {
      //FIX on load for BE
      return el.find('>li>a.active').parent().children().not(':first').length ? _this.el.asideTitle.addClass('has-children') : _this.el.asideTitle.removeClass('has-children');
    });
  },
  scrollMenu: function scrollMenu(el) {
    scroll = new IScroll(el, {
      mouseWheel: true,
      scrollbars: true,
      interactiveScrollbars: true,
      disablePointer: true,
      disableTouch: false,
      disableMouse: false,
      //fadeScrollbars: true,
      click: true,
      tap: true
    });
    this.el.scrollMenu.css({
      'position': 'relative',
      'top': '0'
    });
    !this.vars.largeAndUp.matches ? this.el.scrollMenu.parent().css('overflow', 'hidden') : this.el.scrollMenu.parent().removeAttr('style');
    setTimeout(function () {
      scroll.refresh();
    }, 0);
  },
  events: function events() {
    !this.vars.largeAndUp.matches && !this.el.scrollMenu.hasClass('is-dropdown') ? (this.el.asideTitle.append("<span>".concat(this.getMenuText(this.el.asideList), "</span>")), this.menuHasChildren(this.el.asideList)) : '';
  },
  resizeEvents: function resizeEvents() {
    var _this2 = this;

    this.vars.largeAndUp.addListener(function () {
      _this2.el.asideTitle.find('span').remove();

      setTimeout(function () {
        _this2.asideMenuDesktop(); //FIX SetTimout for orientation/resize

      }, 100);

      if (_this2.vars.largeAndUp.matches) {
        _this2.el.body.removeClass('no-scroll');

        _this2.el.aside.hasClass('aside--small') ? _this2.el.asideTextWrapper.removeClass('fixed shadow').removeAttr('style') : '';

        _this2.el.asideListWrapper.add(_this2.el.asideText).show();

        _this2.el.asideTitle.removeClass('open').next().removeAttr('style');

        _this2.el.asideMenuMobile.next().find('.aside__list-text.active').show();

        _this2.el.scrollMenu.length ? setTimeout(function () {
          scroll.refresh();
        }, 100) : '';
      } else {
        _this2.menuHasChildren(_this2.el.asideList);

        _this2.el.asideTitle.append("<span>".concat(_this2.getMenuText(_this2.el.asideList), "</span>"));

        _this2.el.scrollMenu.add(_this2.el.asideListWrapper).add(_this2.el.asideText).removeAttr('style');
      }
    });
    this.vars.extraLargeAndUp.addListener(function () {
      return _this2.vars.extraLargeAndUp.matches ? _this2.el.hero.find('.hero__nav').removeClass('fixed').removeAttr('style') : '';
    });
  },
  asideMenuDesktop: function asideMenuDesktop() {
    var _this3 = this;

    if (!this.el.aside.length) return;
    this.el.scrollMenu.find('a').on('keydown', function (e) {
      return e.key === 'Enter' ? _this3.el.html.hasClass('accessibility') ? window.location.href = $(e.currentTarget).attr('href') : '' : '';
    });
    this.el.scrollMenu.length && this.vars.largeAndUp.matches ? this.scrollMenu('.nav-menu') : '';
    this.el.scrollMenu.length && !this.el.hero.hasClass('has-margin') && this.el.hero.length ? (this.scrollMenu('.nav-menu'), this.el.scrollMenu.addClass('is-dropdown'), this.el.asideMenuMobile.addClass('has-menu')) : '';
    var scrollMenuHeight = this.el.win.outerHeight() - this.el.header.outerHeight() * 2 - this.el.aside.find('.js-aside-menu').outerHeight(),
        scrollMenuHeightDefault = this.el.win.outerHeight() - (this.el.aside.find('.aside__figure').length ? this.el.aside.find('.aside__figure').outerHeight() : 170) - this.el.header.outerHeight() * 2 - this.el.aside.find('.js-aside-menu').outerHeight() / 5 - 40,
        //offset
    offsetAside = this.el.hero.length ? this.el.aside.offset().top - this.el.header.outerHeight() : this.el.aside.hasClass('aside--small') ? '0' : this.vars.largeAndUp.matches ? this.el.asideTextWrapper.position().top : '';
    this.el.scrollMenu.length && this.vars.largeAndUp.matches && this.el.scrollMenu.css('height', scrollMenuHeightDefault);
    this.el.aside.hasClass('aside--small') ? this.el.asideTextWrapper.css('top', this.el.header.outerHeight()) : '';
    this.el.win.on('scroll', function (e) {
      if ($(e.currentTarget).scrollTop() > offsetAside) {
        _this3.el.asideTextWrapper.addClass('fixed').css('top', _this3.el.header.outerHeight());

        if (_this3.el.asideList.length && _this3.vars.largeAndUp.matches) {
          _this3.el.asideList.offset().top + _this3.el.asideList.height() > _this3.el.footer.position().top ? (_this3.el.scrollMenu.css('height', scrollMenuHeightDefault - 50), setTimeout(function () {
            _this3.el.scrollMenu.length ? scroll.refresh() : '';
          }, 0)) : (_this3.el.scrollMenu.css('height', scrollMenuHeight), setTimeout(function () {
            _this3.el.scrollMenu.length ? scroll.refresh() : '';
          }, 0));
        }

        _this3.vars.largeAndUp.matches ? _this3.el.asideTextWrapper.prev().find('.aside__figure').hide() : _this3.el.asideTextWrapper.addClass('has-shadow');
      } else {
        _this3.el.asideTextWrapper.removeClass('fixed').removeAttr('style');

        _this3.el.scrollMenu.length && _this3.vars.largeAndUp.matches ? (_this3.el.scrollMenu.css('height', scrollMenuHeightDefault), setTimeout(function () {
          scroll.refresh();
        }, 0)) : '';
        _this3.vars.largeAndUp.matches ? _this3.el.asideTextWrapper.prev().find('.aside__figure').fadeIn() : _this3.el.asideTextWrapper.removeClass('has-shadow');
      }
    }).on('resize', function () {
      !_this3.vars.largeAndUp.matches && _this3.el.asideTextWrapper.hasClass('fixed') ? _this3.el.asideTextWrapper.css('top', _this3.el.header.outerHeight()) : (_this3.el.asideTextWrapper.removeClass('fixed has-shadow').removeAttr('style'), _this3.el.content.closest('.wrapper').removeAttr('style'));
    });
  },
  asideHeroNavMobile: function asideHeroNavMobile() {
    var _this4 = this;

    if (!this.el.hero.find('.hero__nav').length) return;
    var offsetHeroNav = this.el.hero.find('.hero__nav').offset().top - this.el.header.outerHeight();
    this.el.win.on('scroll', function (e) {
      $(e.currentTarget).scrollTop() > offsetHeroNav && !_this4.vars.extraLargeAndUp.matches ? _this4.el.hero.find('.hero__nav').addClass('fixed').css('top', _this4.el.header.outerHeight()) : _this4.el.hero.find('.hero__nav').removeClass('fixed').removeAttr('style');
    }).on('resize', function () {
      !_this4.vars.extraLargeAndUp.matches && _this4.el.hero.find('.hero__nav').hasClass('fixed') ? _this4.el.hero.find('.hero__nav').css('top', _this4.el.header.outerHeight()) : '';
    });
  },
  asideMenuMobileToggle: function asideMenuMobileToggle() {
    var _this5 = this;

    this.el.win.on('load', function () {
      //FIX on load for BE
      if (_this5.el.asideList.find('>li>a.active').parent().children().not(':first').length || _this5.el.hero.length) {
        _this5.el.asideMenuMobile.on('click', function (e) {
          $(e.currentTarget).next().is(':hidden') ? $(e.currentTarget).addClass('open') : setTimeout(function () {
            $(e.currentTarget).removeClass('open');
          }, 500);
          _this5.el.scrollMenu.hasClass('is-dropdown') ? setTimeout(function () {
            scroll.refresh();
          }, 0) : '';

          if (!_this5.vars.largeAndUp.matches) {
            $(e.currentTarget).next().is(':hidden') ? $(e.currentTarget).next().slideDown() : $(e.currentTarget).next().slideUp();
            !_this5.el.hero.length ? _this5.el.aside.find('.aside__list-text.active').parent().siblings().hide() : !_this5.el.scrollMenu.hasClass('is-dropdown') ? _this5.el.body.toggleClass('no-scroll') : '';
          }
        });
      }
    });
  },
  init: function init() {
    this.events();
    this.resizeEvents();
    this.asideMenuDesktop();
    this.asideMenuMobileToggle();
    this.asideHeroNavMobile();
  }
};
aside.init();
var cards = {
  el: {
    card: $('.js-card'),
    stamp: $('.card--flex')
  },
  vars: {
    mediumAndUp: window.matchMedia('(min-width: 48em)')
  },
  events: function events() {
    var _this = this;

    this.el.card.each(function (i, el) {
      !_this.vars.mediumAndUp.matches ? $(el).append(_this.el.stamp.eq(i)) : '';
      !_this.vars.mediumAndUp.addListener(function () {
        return !_this.vars.mediumAndUp.matches ? $(el).append(_this.el.stamp.eq(i)) : _this.el.stamp.eq(i).insertAfter($(el).next());
      });
    });
  },
  init: function init() {
    this.events();
  }
};
cards.init();
var dropdown = {
  el: {
    win: $(window),
    body: $('body'),
    dropdown: $('.js-dropdown')
  },
  closeDropDown: function closeDropDown() {
    var _this = this;

    this.el.dropdown.next().slideUp();
    setTimeout(function () {
      _this.el.dropdown.removeClass('open');
    }, 300);
  },
  events: function events() {
    var _this2 = this;

    this.el.dropdown.addClass('open');
    setTimeout(function () {
      _this2.closeDropDown();
    }, 3000);
    this.el.win.on('scroll', function (e) {
      return $(e.currentTarget).scrollTop() > 1 ? _this2.closeDropDown() : '';
    });
    this.el.dropdown.on('click', function (e) {
      return $(e.currentTarget).toggleClass('open').next().slideToggle();
    });
    this.el.body.on('click', function (e) {
      return !$(e.target).is('.js-dropdown') ? _this2.closeDropDown() : '';
    });
  },
  init: function init() {
    this.events();
  }
};
dropdown.init();
var filters = {
  el: {
    win: $(window),
    doc: $(document),
    html: $('html'),
    header: $('.header'),
    main: $('.wrapper'),
    footer: $('.footer'),
    filterButton: $('.js-filter-modal'),
    input: $('.js-toggle'),
    view: $('.js-toggle-view'),
    card: $('.card')
  },
  vars: {
    extraLargeAndUp: window.matchMedia('(min-width: 80em)')
  },
  events: function events() {
    var _this = this;

    //open filter news mobile
    var count = 0;
    this.el.filterButton.on('click', function (e) {
      if (count === 0) {
        $(e.currentTarget).addClass('open').next().prepend('<div class="toggle__switch-dashboard"><span>Filtros</span><a class="js-switch-close" href="javascript:;" title="Fechar Filtros"><i class=" icon-ss-cross"><span class="sr-only">Fechar Filtros</span></a></div>').slideDown();
        count++;
      }
    });
    this.el.doc.on('click', '.js-switch-close', function () {
      _this.el.filterButton.next().slideUp();

      setTimeout(function () {
        $('.toggle__switch-dashboard').remove();

        _this.el.filterButton.removeClass('open').next().removeAttr('style');
      }, 500);
      count--;
    });
    this.vars.extraLargeAndUp.addListener(function () {
      return _this.vars.extraLargeAndUp.matches ? ($('.toggle__switch-dashboard').hide(), _this.el.filterButton.removeClass('open').next().removeAttr('style'), count = 0) : '';
    }); //filter news
    //$('.toggle__switch-wrapper:first').find(this.el.input).prop('checked', true)

    this.el.input.on('change', function (e) {
      return $(e.currentTarget).prop('checked') ? $(e.currentTarget).prop('checked', true).parent().siblings().find(_this.el.input).prop('checked', false) : '';
    }); //toggle view layout

    this.el.view.on('click', function (e) {
      return _this.toggleView(e.currentTarget);
    }).on('focus', function (e) {
      return _this.el.html.hasClass('accessibility') ? _this.toggleView(e.currentTarget) : '';
    });
  },
  toggleView: function toggleView(el) {
    $(el).find('i').addClass('active').parent().siblings().find('i').removeClass('active');
    $(el).hasClass('is-list') ? this.el.card.removeClass('card--third').addClass('card--full') : this.el.card.removeClass('card--full').addClass('card--third');
  },
  init: function init() {
    this.events();
  }
};
filters.init();
var header = {
  el: {
    win: $(window),
    header: $('.header'),
    sitemap: $('.sitemap'),
    anchors: $('.list-anchors'),
    content: $('.content'),
    aside: $('.aside'),
    hero: $('.hero')
  },
  vars: {
    largeAndUp: window.matchMedia('(min-width: 64em)'),
    extraLargeAndUp: window.matchMedia('(min-width:80em)')
  },
  events: function events() {
    var _this = this;

    this.el.win.on('scroll', function (e) {
      if ($(e.currentTarget).scrollTop() > 0) {
        //_this.el.header.addClass('fixed'); //has sidebar and doesn't run with hero module


        if (!_this.vars.largeAndUp.matches && _this.el.content.hasClass('has-sidebar') && !_this.el.hero.length) _this.el.content.closest('.wrapper').css('padding-top', _this.el.header.outerHeight() + _this.el.aside.find('.aside__text-wrapper').outerHeight());else _this.el.content.closest('.wrapper').removeAttr('style'); //not fixed	
      } else {
        _this.el.header.removeClass('fixed');

        if (!_this.vars.largeAndUp.matches && _this.el.content.filter('.has-sidebar, .has-anchors')) _this.el.content.closest('.wrapper').removeAttr('style');
      }
    });
    if (!this.el.anchors.length) return;
    var anchorsOffset = this.el.anchors.offset().top - this.el.header.outerHeight() - 50; //padding

    this.el.win.on('scroll', function (e) {
      if ($(e.currentTarget).scrollTop() > anchorsOffset) {
        _this.el.sitemap.addClass('fixed'); //has-anchors


        if (_this.el.content.hasClass('has-anchors')) _this.el.content.find('.content__wrapper').css('padding-top', _this.el.header.outerHeight() + _this.el.sitemap.outerHeight());
      } else {
        _this.el.sitemap.removeClass('fixed');

        if (_this.el.content.hasClass('has-anchors')) _this.el.content.find('.content__wrapper').removeAttr('style');
      }
    });
  },
  init: function init() {
    this.events();
  }
};
header.init();
var nav = {
  el: {
    win: $(window),
    doc: $(document),
    html: $('html'),
    body: $('body'),
    header: $('.header'),
    nav: $('.nav'),
    navList: $('.nav__list'),
    navSubList: $('.nav__sub-list'),
    navLink: $('.nav__list-link'),
    navListToggleButton: $('.js-nav-toggle'),
    navHeroButton: $('.js-hero-menu'),
    sitemap: $('.sitemap'),
    sitemapItem: $('.list-anchors__item'),
    logoImage: $('.header__logo-img'),
    //search
    searchForm: $('.js-search-form')
  },
  vars: {
    mediumAndUp: window.matchMedia('(min-width:48em)'),
    extraLargeAndUp: window.matchMedia('(min-width: 80em)'),
    orientationPortrait: window.matchMedia('(orientation:portrait) and (max-width:1023px)')
  },
  events: function events() {
    var _this = this;
    var previousNavLink = null;

    //general
    !this.vars.extraLargeAndUp.matches ? this.el.navList.hide() : ''; //small screens

    this.el.navListToggleButton.on('click', function (e) {
    	if(previousNavLink != null) {
    		$(previousNavLink).removeClass('active').parent().addClass('d-hidden');
    		previousNavLink = null;
    	}
      return _this.toggleNav(e.currentTarget);
    }).on('focus', function (e) {
      return _this.el.html.hasClass('accessibility') ? _this.toggleNav(e.currentTarget) : '';
    }); //extraLarge screens

    this.el.navLink.on('mouseenter', function (e) {
      if (_this.vars.extraLargeAndUp.matches) {
        $(e.currentTarget).addClass('active').parent().removeClass('d-hidden');
        $(e.currentTarget).parent().siblings().addClass('d-hidden').find(_this.el.navLink).removeClass('active');
      }
    }).on('focus', function (e) {
      _this.el.html.hasClass('accessibility') ? $(e.currentTarget).addClass('active').parent().removeClass('d-hidden') : '';
    }).on('blur', function (e) {
      _this.el.html.hasClass('accessibility') ? ($(e.currentTarget).parent().siblings().find('a').removeClass('active'), $(e.currentTarget).parent().siblings().addClass('d-hidden')) : '';
    }).on('click', function (e) {
      if (!_this.vars.extraLargeAndUp.matches) {
    	  if(previousNavLink != null) {
    		  if(previousNavLink == e.currentTarget) {
    			  $(e.currentTarget).toggleClass('active').parent().toggleClass('d-hidden');
    		  } else {
    			  $(previousNavLink).removeClass('active').parent().addClass('d-hidden');
    			  $(e.currentTarget).addClass('active').parent().removeClass('d-hidden');
    		  }
    	  } else {
    		  $(e.currentTarget).addClass('active').parent().removeClass('d-hidden');
    	  }
    	  previousNavLink = e.currentTarget;
      }
    });
    this.el.header.on('mouseleave', function (e) {
    	if(!_this.vars.extraLargeAndUp.matches) {
    		return true;
    	}
      return $(e.currentTarget).find(_this.el.navLink).removeClass('active').parent().addClass('d-hidden');
    });
    this.el.header.find('.header__logo-img').on('mouseenter', function (e) {
      return $(e.currentTarget).closest('.header').find(_this.el.navLink).removeClass('active').parent().addClass('d-hidden');
    });
  },
  resizeEvents: function resizeEvents() {
    var _this2 = this;

    this.vars.mediumAndUp.addListener(function () {
      if (_this2.vars.mediumAndUp.matches) {
        _this2.el.searchForm.hasClass('open-search') ? _this2.closeNav() : '';
      }
    });
    this.vars.extraLargeAndUp.addListener(function () {
      if (_this2.vars.extraLargeAndUp.matches) {
        _this2.el.navList.css({
          'display': 'flex',
          'height': 'auto'
        }).show();

        _this2.closeNav();

        _this2.el.navHeroButton.removeClass('open').next().removeAttr('style');

        _this2.el.navLink.removeClass('active').parent().addClass('d-hidden');
      } else {
        _this2.el.navList.css('display', 'block').hide();
      }
    });
  },
  orientationEvents: function orientationEvents() {
    var _this3 = this;

    this.vars.orientationPortrait.addListener(function () {
      if (_this3.vars.orientationPortrait.matches) {
        _this3.el.nav.hasClass('open') && _this3.el.navList.length ? (_this3.el.navList.removeAttr('style').hide(), _this3.closeNav()) : '';
      }
    });
  },
  closeNav: function closeNav() {
    this.el.body.removeClass('no-scroll');
    this.el.searchForm.removeClass('open-search').find('.header__search').removeClass('active');
    this.el.header.add(this.el.nav).removeClass('open open-search').find('.js-toggle-zoom').show();
    this.el.logoImage.show();
    $(this.el.navListToggleButton).parent().removeClass('open').nextAll(':not(script):not(".header__nav-info")').show().closest('.header').removeClass('open');
    $('.search__box-list').slideUp();
    $('.header__nav-info').remove();
  },
  toggleNav: function toggleNav(el) {
    var _this4 = this;

    if ($(el).parent().hasClass('open-search')) {
      //IF search else menu
      this.closeNav();
    } else {
      if ($(el).next().is(':hidden')) {
        this.el.logoImage.hide();
        $('<span class="header__nav-info">MENU</span>').insertAfter(this.el.nav);
        $(el).parent().addClass('open').nextAll(':not(script):not(".header__nav-info")').hide().closest('.header').addClass('open');
      } else {
        $('.header__nav-info').remove();
        setTimeout(function () {
          $(el).parent().removeClass('open').nextAll().show().closest('.header').removeClass('open'), _this4.el.logoImage.show();
        }, 300);
      }

      this.el.body.toggleClass('no-scroll');
      this.el.navList.slideToggle();
      setTimeout(function () {
        _this4.el.navList.css('height', _this4.el.win.innerHeight() - 60); //height of header

      }, 500);
    }
  },
  sitemapNavScroll: function sitemapNavScroll() {
    var _this5 = this;

    this.el.win.on('scroll', function () {
      var scrolled = _this5.el.doc.scrollTop() + _this5.el.header.outerHeight() + _this5.el.sitemap.outerHeight() - 25;

      _this5.el.sitemapItem.each(function (i, el) {
        var href = $(el).find('a').attr('href');
        $(href).offset().top <= scrolled ? $(el).addClass('active').siblings().removeClass('active') : '';
      });

      !_this5.el.sitemap.hasClass('fixed') ? _this5.el.sitemapItem.siblings().removeClass('active') : '';
    });
  },
  heroHomeNav: function heroHomeNav() {
    this.el.navHeroButton.on('click', function (e) {
      $(e.currentTarget).next().is(':hidden') ? $(e.currentTarget).addClass('open') : setTimeout(function () {
        $(e.currentTarget).removeClass('open');
      }, 500);
      $(e.currentTarget).next().slideToggle();
    });
  },
  init: function init() {
    this.events();
    this.resizeEvents();
    this.orientationEvents();
    this.sitemapNavScroll();
    this.heroHomeNav();
  }
};
nav.init();
var scrollAnchor = {
  el: {
    win: $(window),
    html: $('html'),
    body: $('body'),
    header: $('.header'),
    goDown: $('.js-go-down'),
    sitemap: $('.sitemap')
  },
  vars: {
    largeAndUp: window.matchMedia('(min-width: 64em)')
  },
  events: function events() {
    var _this = this;

    this.el.win.on('load', function () {
      //FIX on load for BE
      _this.el.goDown.on('click', function (e) {
        e.preventDefault();
        var href = $(e.currentTarget).attr('href');

        if ($(e.currentTarget).parents().hasClass('sitemap')) {
          _this.el.html.add(_this.el.body).animate({
            scrollTop: $(href).offset().top - (_this.el.sitemap.hasClass('fixed') ? _this.el.header.outerHeight() : 0) - _this.el.sitemap.outerHeight() + 25
          }, 300, function () {
            setTimeout(function () {
              $(e.currentTarget).parent().addClass('active').siblings().removeClass('active');
            }, 100);
          });
        }

        if ($(e.currentTarget).parent().hasClass('content__button-anchor')) {
          _this.el.html.add(_this.el.body).animate({
            scrollTop: $(href).offset().top - (_this.vars.largeAndUp.matches ? 80 : 120)
          }, 300);
        }
      });
    });
  },
  init: function init() {
    this.events();
  }
};
scrollAnchor.init();
var scrolltoTop = {
  el: {
    html: $('html'),
    body: $('body'),
    toTop: $('.js-to-top')
  },
  scrolled: function scrolled() {
    this.el.html.add(this.el.body).animate({
      scrollTop: 0
    }, 300);
  },
  events: function events() {
    var _this = this;

    this.el.toTop.on('click', function () {
      return _this.scrolled();
    }).on('focus', function () {
      return _this.el.html.hasClass('accessibility') ? _this.scrolled() : '';
    });
  },
  init: function init() {
    this.events();
  }
};
scrolltoTop.init();
var search = {
  el: {
    doc: $(document),
    html: $('html'),
    body: $('body'),
    header: $('.header'),
    nav: $('.nav'),
    toggleZoom: $('.js-toggle-zoom'),
    searchBar: $('.header__search-input'),
    searchTrigger: $('.js-search'),
    searchForm: $('.js-search-form'),
    searchSubmit: $('.js-search-submit'),
    searchCloseBtn: $('.js-search-close'),
    searchContainer: $('.content__search-pagination'),
    searchAutocomplete: $('.search__box-list')
  },
  vars: {
    mediumAndUp: window.matchMedia('(min-width: 48em)')
  },
  events: function events() {
    var _this = this;

    this.el.searchSubmit.on('click focus', function (e) {
      e.preventDefault();

      if (!_this.vars.mediumAndUp.matches && $(e.currentTarget).closest('form').hasClass('header__search-form')) {
        _this.el.body.addClass('no-scroll');

        $(e.currentTarget).closest('.js-search-form').addClass('open-search');

        _this.el.header.add(_this.el.nav).addClass('open open-search').find('.js-toggle-zoom').hide();

        var logoImg = _this.el.header.find('.header__logo-img');

        logoImg.hide();
        logoImg.is(':hidden') ? $('<span class="header__nav-info">PESQUISA</span>').insertAfter(_this.el.nav) : '';
        $(e.currentTarget).closest('.js-search-form').hasClass('open-search') ? $(e.currentTarget).closest('.js-search-form').find('.header__search').addClass('active') : '';
      } else if ($(e.currentTarget).closest('.js-search-form').hasClass('header__search-form')) {
        $(e.currentTarget).closest('.js-search-form').addClass('open');
        $(e.currentTarget).closest('.js-search-form').hasClass('open') ? ($(e.currentTarget).closest('.js-search-form').find('.header__search').addClass('active'), $(e.currentTarget).closest('.js-search-form').find('input')).removeAttr('tabindex') : '';

        _this.el.searchCloseBtn.show();

        _this.el.nav.find('.nav__list-item:not(".d-hidden")').addClass('d-hidden'); //FIX BE not closing menu acessibility

      }

      $(e.currentTarget).closest('form').hasClass('header__search-form') ? $(e.currentTarget).closest('.js-search-form').find('input').focus().css('opacity', '1') : '';
      $(e.currentTarget).closest('.js-search-form').find('input').val() ? $(e.currentTarget).closest('.js-search-form').submit() : '';
    }).on('mouseenter blur', function () {
      return _this.el.nav.find('.active').removeClass('active').parent().addClass('d-hidden');
    });
    this.el.searchCloseBtn.on('click focus', function (e) {
      e.preventDefault();
      $(e.currentTarget).hide().closest('.js-search-form').removeClass('active').find('.search__box-list').hide();

      var btnOriginalWidth = _this.el.searchSubmit.width();

      $(e.currentTarget).hide().closest('.js-search-form').find('.header__search').width(btnOriginalWidth).find('input').css('opacity', '0');
      setTimeout(function () {
        $(e.currentTarget).closest('.js-search-form').removeClass('open').find('.header__search').removeAttr('style').removeClass('active').find('input').val('').attr('tabindex', '-1');
        _this.el.html.hasClass('accessibility') ? _this.el.toggleZoom.focus() : '';
      }, 300);
    });
  },
  resizeEvents: function resizeEvents() {
    var _this2 = this;

    this.vars.mediumAndUp.addListener(function () {
      if (!_this2.vars.mediumAndUp.matches) {
        _this2.el.searchForm.find('.header__search').hasClass('active') ? _this2.el.searchForm.find('.header__search').removeClass('active') : '';
      }
    });
  },
  autocompleteBox: function autocompleteBox() {
    this.el.searchAutocomplete.hide();
    this.el.searchForm.find('[type=search]').on('input', function (e) {
      //FIX condition for searches BE - autocomplete
      if ($(e.currentTarget).closest('.js-search-form').filter('.home-search, .pesquisa-portlet, .header__search-form').length) {
        if ($(e.currentTarget).val() === '') {
          $(e.currentTarget).siblings('.search__box-list').slideUp();
          setTimeout(function () {
            $(e.currentTarget).closest('.js-search-form').removeClass('active');
          }, 400);
        } else if ($(e.currentTarget).val().length >= 3) {
          $(e.currentTarget).siblings('.search__box-list').slideDown();
          $(e.currentTarget).closest('.js-search-form').addClass('active');
        }
      }
    });
  },
  init: function init() {
    this.events();
    this.resizeEvents();
    this.autocompleteBox();
  }
};
search.init();
var sliders = {
  el: {
    body: $('body'),
    sliderContainer: $('.js-slider')
  },
  events: function events(elemContainer) {
    var container = $(elemContainer),
        sliderCentered = container.data('slider-centered'),
        sliderDelay = container.data('slider-delay'),
        sliderLoop = container.data('slider-loop'),
        sliderAutoPlay = container.data('slider-autoplay'),
        sliderSizeWide = container.data('slider-wide'),
        sliderSizeLarge = container.data('slider-large'),
        sliderSizeMedium = container.data('slider-medium'),
        sliderSizeSmall = container.data('slider-small'),
        sliderPaginationType = container.data('slider-pagination-type'),
        sliderSpaceBetween = container.data('slider-space-between'),
        sliderOnInteraction = container.data('slider-interaction');
    sliderSwiper = new Swiper(container, {
      slidesPerView: sliderSizeWide ? sliderSizeWide : 1,
      centeredSlides: sliderCentered ? sliderCentered : '',
      loop: sliderLoop ? sliderLoop : '',
      spaceBetween: sliderSpaceBetween ? sliderSpaceBetween : 0,
      navigation: {
        nextEl: container.siblings('.swiper-button-next'),
        prevEl: container.siblings('.swiper-button-prev')
      },
      pagination: {
        el: container.find('.swiper-pagination'),
        clickable: sliderPaginationType ? false : true,
        type: sliderPaginationType ? sliderPaginationType : 'bullets' //"bullets", "fraction", "progressbar" or "custom"  (default:"bullets")

      },
      autoplay: sliderAutoPlay === false ? sliderAutoPlay : sliderAutoPlay === true ? {
        delay: sliderDelay ? sliderDelay : 20000,
        disableOnInteraction: sliderOnInteraction ? sliderOnInteraction : false
      } : '',
      breakpoints: {
        1279: {
          //small desktop down
          slidesPerView: sliderSizeLarge ? sliderSizeLarge : sliderSizeMedium ? sliderSizeMedium : 1
        },
        1023: {
          //tablet down
          slidesPerView: sliderSizeMedium ? sliderSizeMedium : sliderSizeSmall ? sliderSizeSmall : 1
        },
        767: {
          //mobile down
          slidesPerView: sliderSizeSmall ? sliderSizeSmall : 1
        }
      },
      on: {
        init: function init() {
          !sliders.el.body.hasClass('is-ie') ? setTimeout(function () {
            window.dispatchEvent(new Event('resize'));
          }, 200) : '';
        }
      }
    });
  },
  init: function init() {
    var _this = this;

    this.el.sliderContainer.each(function (i, el) {
      var sliderItems = $(el).find('.swiper-slide'),
          sliderItemWide = $(el).data('slider-wide');

      if (typeof sliderItemWide !== 'undefined') {
        if (sliderItems.length > sliderItemWide) _this.events(el);
      } else {
        if (sliderItems.length > 1) _this.events(el);
      }

      if (sliderItemWide >= sliderItems.length) {
        sliderItems.each(function () {
          sliderItems.css('width', "calc(100% / ".concat(sliderItemWide, ")"));
        });
      }
    });
  }
};
sliders.init();
var social = {
  el: {
    body: $('body'),
    link: $('.js-social')
  },
  popupCenter: function popupCenter(url, title, w, h) {
    // Fixes dual-screen position                         Most browsers      Firefox  
    var dualScreenLeft = window.screenLeft != undefined ? window.screenLeft : screen.left,
        dualScreenTop = window.screenTop != undefined ? window.screenTop : screen.top;
    width = window.innerWidth ? window.innerWidth : document.documentElement.clientWidth ? document.documentElement.clientWidth : screen.width;
    height = window.innerHeight ? window.innerHeight : document.documentElement.clientHeight ? document.documentElement.clientHeight : screen.height;
    var left = width / 2 - w / 2 + dualScreenLeft,
        top = height / 2 - h / 2 + dualScreenTop,
        newWindow = window.open(url, title, "scrollbars=yes, width=".concat(w, ", height=").concat(h, ", top=").concat(top, ", left=").concat(left)); // Puts focus on the newWindow  

    window.focus ? newWindow.focus() : '';
  },
  copyToClipboard: function copyToClipboard(text) {
    var tempInput = $('<input>');
    this.el.body.append(tempInput);
    tempInput.val(text);
    tempInput.select();
    document.execCommand("copy");
    tempInput.remove();
  },
  events: function events() {
    var _this = this;

    this.el.link.each(function (i, el) {
      var shareHref = encodeURIComponent(window.location.href),
          href = window.location.href,
          facebookUrl = 'https://www.facebook.com/sharer/sharer.php?u=' + shareHref,
          twitterUrl = 'https://twitter.com/home?status=' + shareHref;
      $(el).hasClass('icon-link') ? $(el).attr('href', href) : '';
      $(el).on('click', function (e) {
        !$(e.currentTarget).hasClass('icon-mail') ? e.preventDefault() : '';
        $(e.currentTarget).hasClass('icon-link') ? (_this.copyToClipboard(e.currentTarget.href), $('.icon-link').addClass('copied'), setTimeout(function () {
          $('.icon-link').removeClass('copied');
        }, 1000)) : '';
        $(e.currentTarget).hasClass('icon-facebook') ? _this.popupCenter(facebookUrl, 'Partilha Facebook', 600, 400) : '';
        $(e.currentTarget).hasClass('icon-twitter') ? _this.popupCenter(twitterUrl, 'Partilha twitter', 600, 400) : '';
      });
    });
  },
  init: function init() {
    this.events();
  }
};
social.init();
var sticky = {
  el: {
    win: $(window),
    body: $('body'),
    sticky: $('.sticky')
  },
  vars: {
    largeAndUp: window.matchMedia('(min-width: 64em)')
  },
  toggleSticky: function toggleSticky(el) {
    return el.on('click', function (e) {
      return $(e.currentTarget).toggleClass('open');
    });
  },
  events: function events() {
    this.el.body.hasClass('is-touch') ? this.toggleSticky(this.el.sticky) : '';
  },
  resizeEvents: function resizeEvents() {
    var _this = this;

    this.vars.largeAndUp.addListener(function () {
      !_this.vars.largeAndUp.matches ? _this.el.sticky.removeClass('open') : '';
    });
  },
  init: function init() {
    this.events();
    this.resizeEvents();
  }
};
sticky.init();
var tables = {
  el: {
    tbody: $('.table__body')
  },
  vars: {
    largeAndUp: window.matchMedia('(min-width: 64em)')
  },
  mobileTable: function mobileTable() {
    this.el.tbody.find('>tr>td').each(function (i, e) {
      $(e).prepend(function () {
        return "<div class='table__head-mobile'>".concat($(e).closest('.table').find('th').eq($(e).index()).text(), "</div>");
      });
    });
  },
  events: function events() {
    var _this = this;

    !this.vars.largeAndUp.matches ? this.mobileTable() : '';
    !this.vars.largeAndUp.addListener(function () {
      return !_this.vars.largeAndUp.matches ? _this.mobileTable() : $('.table__head-mobile').remove();
    });
  },
  init: function init() {
    this.events();
  }
};
tables.init();